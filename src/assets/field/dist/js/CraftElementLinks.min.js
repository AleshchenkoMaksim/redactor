var plugin=$.extend({},Craft.Redactor.PluginBase,{linkOptions:[],existingText:"",start:function(){},showModal:function(arguments,e){let t=arguments.refHandle,n=arguments.callback;const i=Craft.createElementSelectorModal(arguments.elementType,{storageKey:"RedactorInput.LinkTo."+arguments.elementType,sources:arguments.sources,criteria:arguments.criteria,defaultSiteId:this.elementSiteId,onSelect:$.proxy((function(e){if(e.length){let i=e[0],l={url:i.url+"#"+t+":"+i.id+"@"+i.siteId,text:this.existingText.length>0?this.existingText:i.label};this.temporary=n(l)}}),this),closeOtherModals:!1});i.$shade.css("zIndex",e+1),i.$container.css("zIndex",e+2)},setLinkOptions:function(e){this.linkOptions=e},onmodal:{link:{open:function(e,t){const n=$(e.nodes).css("zIndex"),i=$(t.nodes),l=$('<div class="form-item form-item-link-select"><label>Pick a link</label></div>');this.existingText=i.find("input[name=text]").val();for(let e in this.linkOptions){let t=this.linkOptions[e];$('<div class="btn">'+t.optionTitle+"</div>").appendTo(l).on("click",function(e){this.showModal({elementType:t.elementType,refHandle:t.refHandle,sources:t.sources,criteria:t.criteria,callback:e=>{i.find("input[name=url]").val(e.url),i.find("input[name=text]").val(e.text)}},n)}.bind(this))}i.prepend(l)}}}});Redactor.add("plugin","craftElementLinks",plugin);
//# sourceMappingURL=CraftElementLinks.min.js.map
